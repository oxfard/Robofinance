<!DOCTYPE html>
<html lang="en">
<head>
    <title>Отчеты Робофинанс</title>
    <meta charset="utf-8">
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
</head>
<body>



<div style="width: 70%; margin: 0 auto; ">
    <h1 id="title">Все работники</h1>
    <div>
        <button id="ajax-trigger0">Все</button>
        <button id="ajax-trigger1">На испытательном сроке</button>
        <button id="ajax-trigger2">Уволенные</button>
        <button id="ajax-trigger3">Начальники</button>
    </div>
    </br>
    <div id="example-table"></div>
</div>

<script type="text/javascript">

    var domen = var domen = document.location.protocol + '//' + document.location.host;

    //Build Tabulator
    var table = new Tabulator("#example-table", {
        ajaxURL: domen + "/reports.php",
        height:"100%",
        layout:"fitDataTable",
        // placeholder:"No Data Set",
        pagination: 'local',
        paginationSize: 10,
        columns:[
            { title: 'Фамилия', field: 'last_name' },
            { title: 'Имя', field: 'first_name' },
            { title: 'Отчество', field: 'middle_name' },
            { title: 'Должность', field: 'position' },
            { title: 'Дата приема', field: 'admission_dt' },
            { title: 'Дата увольнения', field: 'dismission_dt' },
            { title: 'Причина увольнения', field: 'dismission_reason' },
            { title: 'ЗП', field: 'salary' },
            { title: 'Департамент', field: 'department'},
            { title: 'Начальник отдела', field: 'department_leader' },
        ],
    });

    document.getElementById("ajax-trigger0").addEventListener("click", function(){
        table.setData(domen + "/reports.php");
        document.getElementById("title").innerHTML = "Все работники";
    });
    document.getElementById("ajax-trigger1").addEventListener("click", function(){
        table.setData(domen + "/reports.php?r=1");
        document.getElementById("title").innerHTML = "На испытательном сроке";
    });
    document.getElementById("ajax-trigger2").addEventListener("click", function(){
        table.setData(domen + "/reports.php?r=2");
        document.getElementById("title").innerHTML = "Уволенные";
    });
    document.getElementById("ajax-trigger3").addEventListener("click", function(){
        table.setData(domen + "/reports.php?r=3");
        document.getElementById("title").innerHTML = "Начальники";
    });

</script>


</body>
</html>